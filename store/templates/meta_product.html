{% extends 'main.html' %}
{% load static %}
{% block content %}

    <div class="path">
        <p class="path-text">
            <a href="{% url 'store:home' %}">Store</a>
            / <a href="{% url 'store:category' category.id %}">{{ category.name }}</a>
            / <a href="{% url 'store:subcategory' c_id=category.id sc_id=subcategory.id %}">{{ subcategory.name }}</a>
            / <a href="{% url 'store:meta_product' c_id=category.id sc_id=subcategory.id mp_id=meta_product.id %}">{{ meta_product.name }}</a>
        </p>
    </div>

    <div class="category-box">
        <p class="category-name">{{ category.name }}</p>
    </div>

    <div class="meta_product-container">
        <div class="meta_product-box">
            <div class="meta_product-img-1">
                <img class="thumbnail" src="{{ meta_product.imageURL }}">
            </div>
            <p class="meta_product-name"><strong>{{ meta_product.name }}</strong></p>
        </div>
        <div class="choose-box">
            <div class="packages-sizes">
                <p>Packages sizes</p>
                <hr>
            </div>

            {% for product in products %}
            <div class="product-box">
                <label class="label-box">
                    <button data-product={{product.id}} data-action="add" class="btn btn-outline-secondary add-btn update-cart product-type">
                        <p>{{ product.package }} {{ product.measure }} - <strong>${{ product.price|floatformat:2 }}</strong></p>
                    </button>
                    <div class="product-availability">
                        <div class="availability">
                            <i>Availability: </i>
                        </div>
                        <div class="product-availability-loop">
                            {% if product.availability >= 40 %}
                                <p class="availability-green"><strong>A lot</strong></p>
                            {% elif product.availability >= 20 %}
                                <p class="availability-yellow"><strong>Still in stock...</strong></p>
                            {% elif product.availability >= 1 %}
                                <p class="availability-red"><strong>Last items...</strong></p>
                            {% else %}
                                <p class="availability-grey"><strong>Sold out</strong></p>
                            {% endif %}
                        </div>
                        <p>{{ product.availability }}</p>
                    </div>

                </label>
                <br>
            </div>
            {%  endfor %}
        </div>
    </div>

    <div class="description-box">
        <div class="description-text">
            {{ meta_product.description }}
        </div>
    </div>



<!--    <div class="meta_product-container">-->
<!--        <div class="meta_product-box">-->
<!--            <div class="meta_product-img-1">-->
<!--                <img class="thumbnail" src="{{ meta_product.imageURL }}">-->
<!--            </div>-->
<!--            <p class="meta_product-name"><strong>{{ meta_product.name }}</strong></p>-->
<!--        </div>-->
<!--        <div class="choose-box">-->
<!--            <div class="packages-sizes">-->
<!--                <p>Packages sizes</p>-->
<!--                <hr>-->
<!--            </div>-->

<!--            {% for product in products %}-->
<!--            <div class="product-box" data-inline-type="radio">-->
<!--                <label class="label-box">-->
<!--                    <input class="product-package" type="radio">-->
<!--                    <div class="product-type">-->
<!--                        <p>{{ product.package }} {{ product.measure }} - <strong>${{ product.price|floatformat:2 }}</strong></p>-->
<!--                    </div>-->
<!--                    <div class="product-availability">-->
<!--                        <div class="availability">-->
<!--                            <i>Availability: </i>-->
<!--                        </div>-->
<!--                        <div class="product-availability-loop">-->
<!--                            {% if product.availability >= 40 %}-->
<!--                                <p class="availability-green"><strong>A lot</strong></p>-->
<!--                            {% elif product.availability >= 20 %}-->
<!--                                <p class="availability-yellow"><strong>Still in stock...</strong></p>-->
<!--                            {% elif product.availability >= 5 %}-->
<!--                                <p class="availability-red"><strong>Last items...</strong></p>-->
<!--                            {% else %}-->
<!--                                <p class="availability-red"><strong>Sold out</strong></p>-->
<!--                            {% endif %}-->
<!--                        </div>-->
<!--                    </div>-->
<!--                    <div>-->
<!--                        <button data-product={{ product.id }} data-action="add" class="btn btn-outline-secondary add-btn update-cart">-->
<!--                            Add to Cart-->
<!--                        </button>-->
<!--                    </div>-->
<!--                </label>-->
<!--                <br>-->
<!--            </div>-->
<!--            {%  endfor %}-->
<!--        </div>-->
<!--    </div>-->

{% endblock %}
